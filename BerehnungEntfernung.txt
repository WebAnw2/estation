//Berechnung von Entfernungen:
//Entfernung zw. WIN-Gebäude und ENBW-Tankstelle nebenan: 0.099396 km
<html>

<body>
<p> Berechnet Entfernung zwischen 2 Punkten </p>
<button type="button" onclick="getDistanceFromLatLonInKm('demo').innerHTML">
<p id="demo"></p>
</body>



<script>
	//Konstante, die für Berechnung benötigt wird
	var erdradius = 6371000;

	//aktueller Standort, ermittelt über Browser
	var lat1 = 48.2093558;
	var lon1 = 9.032302099999999;

	//Standort einer Tankstelle
	var lat2 = 48.209581;
	var lon2 = 9.031004;

	function getDistanceFromLatLonInKm() {
  		var R = 6371; //Radius of the earth in km
  		var dLat = (lat2-lat1)*(Math.PI/180);  //deg2rad below
  		var dLon = (lon2-lon1)*(Math.PI/180); 
  		var a = 
    			Math.sin(dLat/2) * Math.sin(dLat/2) +
    			Math.cos((lat1)*(Math.PI/180)) * Math.cos((lat2)*(Math.PI/180)) * 
    			Math.sin(dLon/2) * Math.sin(dLon/2);
    
  		var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
  		var d = R * c; //Distance in km

		//Runden auf Nachkommastellen:
  		d= d.toFixed(3);	
		//Ausgabe:
		document.getElementById("demo").innerHTML = d + " km";
	}
</script>